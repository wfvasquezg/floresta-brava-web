<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8"/>
  <meta content="width=device-width,initial-scale=1" name="viewport"/>
  <meta content="#0b2a2b" name="theme-color"/>
  <title>Menú Digital | Floresta Brava</title>
  <meta content="Menú digital de Floresta Brava. Almuerzos, desayunos, mariscos, carnes, pollos y bebidas. Pide por WhatsApp." name="description"/>
  <link href="https://www.florestabrava.com/menudigital.html" rel="canonical"/>

  <!-- Open Graph / redes sociales -->
  <meta content="website" property="og:type"/>
  <meta content="Menú Digital | Floresta Brava" property="og:title"/>
  <meta content="Menú digital de Floresta Brava. Pide por WhatsApp." property="og:description"/>
  <meta content="https://www.florestabrava.com/menudigital.html" property="og:url"/>
  <meta content="https://www.florestabrava.com/img/hero-encebollado-1600.webp" property="og:image"/>
  <meta content="summary_large_image" name="twitter:card"/>

  <!-- Datos estructurados para SEO local -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Restaurant",
    "name": "Floresta Brava",
    "url": "https://www.florestabrava.com/",
    "hasMenu": "https://www.florestabrava.com/menudigital.html",
    "sameAs": ["https://g.page/r/CWs8Hr-H1g4jEBM"],
    "telephone": "+593983603626",
    "servesCuisine": ["Comida ecuatoriana", "Comida típica", "Desayunos", "Almuerzos"],
    "priceRange": "$$",
    "address": {
      "@type": "PostalAddress",
      "streetAddress": "Av. Coruña y Guipúzcoa",
      "addressLocality": "Quito",
      "addressRegion": "Pichincha",
      "addressCountry": "EC"
    }
  }
  </script>

  <!-- Preload logo -->
  <link as="image" fetchpriority="high" href="img/letrasflorestabrava.png" rel="preload"/>


  <style>
    :root{
      /* Header tokens */
      --topbar-h: 68px;

      /* Colores base (mismo lenguaje visual que index.html) */
      --madera:#7a4b1f;
      --madera-oscura:#4b2a12;
      --turquesa:#1fb6c9;
      --naranja:#f57c22;
      --crema:#fff7e8;
      --gris:#444;
      --verde:#145b6b;
      --verde-oscuro:#0b2731;
      --amarillo:var(--naranja);

      /* Tokens del menú */
      --bg:#f5f3ee;
      --ink:var(--verde-oscuro);
      --muted:#5b646a;
      --card:#ffffff;
      --brand:var(--verde-oscuro);
      --brand2:var(--verde);
      --gold:var(--naranja);
      --shadow: 0 10px 30px rgba(0,0,0,0.10);
      --shadow2: 0 6px 18px rgba(0,0,0,0.10);
      --radius: 18px;
      --radius2: 14px;
      --line: rgba(0,0,0,0.10);
      --ok:#22c55e;
      --warn:#f59e0b;
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }

    /* Evita que anclas queden tapadas por el header fijo */
    html{ scroll-padding-top: calc(var(--topbar-h) + env(safe-area-inset-top) + 10px); }

    body{
      /* Compensa el header fijo + notch */
      padding-top: calc(var(--topbar-h) + env(safe-area-inset-top));
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--ink);
      background:
        radial-gradient(1200px 600px at 15% -10%, rgba(245,124,34,0.18), transparent 60%),
        radial-gradient(1000px 500px at 95% 0%, rgba(20,91,107,0.14), transparent 55%),
        var(--bg);
    }

    .skip-link{
      position:absolute;
      left:-999px;
      top:8px;
      background:#fff;
      color:#000;
      padding:10px 14px;
      border-radius:10px;
      z-index:99999;
      box-shadow: 0 6px 18px rgba(0,0,0,0.20);
    }
    .skip-link:focus{ left:12px; }

    /* Top bar (FIJO ROBUSTO) */
    .topbar{
      position: fixed;
      top: 0; left: 0; right: 0;
      z-index: 9999;
      background: linear-gradient(90deg, var(--madera-oscura), var(--verde));
      box-shadow: 0 10px 24px rgba(0,0,0,0.18);
      padding-top: env(safe-area-inset-top);
    }
    .topbar-inner{
      max-width:1120px;
      margin:0 auto;
      padding: 0 16px;
      height: var(--topbar-h);
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 12px;
    }


    .brand{
      display:flex;
      gap:10px;
      align-items:center;
      min-width: 200px;
    }

    .logo{
      width:42px;height:42px;border-radius:14px;
      background: rgba(255,255,255,0.12);
      border: 1px solid rgba(255,255,255,0.18);
      box-shadow: 0 8px 18px rgba(0,0,0,0.12);
      display:grid;place-items:center;
      user-select:none;
      flex:0 0 auto;
      overflow:hidden;
    }
    .logo img{ width:100%; height:100%; object-fit:contain; display:block; }

    .brand h1{margin:0;font-size:15px;line-height:1.1;color:#fff;}
    .brand small{display:block;margin-top:2px;color:rgba(255,255,255,0.85);font-weight:600;font-size:12px;}

    .search-wrap{
      flex:1;
      display:flex;
      gap:10px;
      align-items:center;
      justify-content:center;
    }
    .search{
      width:100%;
      max-width:520px;
      position:relative;
    }
    .search input{
      width:100%;
      padding:12px 42px 12px 14px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,0.28);
      background: rgba(255,255,255,0.92);
      outline:none;
      box-shadow: 0 2px 10px rgba(0,0,0,0.06);
      font-size:14px;
    }
    .search input:focus{
      border-color: rgba(21,91,79,.40);
      box-shadow: 0 4px 14px rgba(21,91,79,.18);
    }
    .search button{
      position:absolute;
      right:6px; top:50%;
      transform: translateY(-50%);
      width:34px; height:34px;
      border:0;
      border-radius:999px;
      cursor:pointer;
      background: rgba(11,39,49,0.10);
      color: var(--verde-oscuro);
    }

    .actions{
      display:flex;
      gap:10px;
      align-items:center;
      justify-content:flex-end;
      min-width: 210px;
    }
    .btn{
      transition: transform .1s ease, box-shadow .15s ease, background .15s ease;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:8px;
      padding:10px 12px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,0.35);
      background: rgba(255,255,255,0.10);
      color:#fff;
      text-decoration:none;
      font-weight:800;
      backdrop-filter: blur(6px);
      box-shadow: 0 8px 18px rgba(0,0,0,0.12);
      cursor:pointer;
    }
    .btn-primary{
      border:0;
      background: linear-gradient(135deg, #16a34a, #22c55e);
      color:#fff;
      box-shadow: 0 14px 30px rgba(34,197,94,0.22);
    }
    .btn-ghost{ background: rgba(255,255,255,.75); }

    /* Layout */
    .wrap{
      max-width:1100px;
      margin:0 auto;
      padding:18px 16px 120px;
    }

    /* Hero */
    .hero{
      margin-top:14px;
      border-radius: var(--radius);
      background: linear-gradient(135deg, rgba(11,42,43,.95), rgba(21,91,79,.92));
      color:#fff;
      box-shadow: var(--shadow);
      overflow:hidden;
      position:relative;
      scroll-margin-top: calc(var(--topbar-h) + env(safe-area-inset-top) + 18px);
    }
    .hero::before{
      content:"";
      position:absolute; inset:-60px -60px auto auto;
      width:220px;height:220px;border-radius:999px;
      background: radial-gradient(circle at 30% 30%, rgba(217,164,65,.85), rgba(217,164,65,.0) 62%);
      filter: blur(2px);
      opacity:.95;
    }
    .hero-inner{
      padding:18px 18px 16px;
      display:grid;
      grid-template-columns: 1.25fr .75fr;
      gap:16px;
      align-items:center;
    }
    .hero h2{ margin:0 0 6px; font-size:20px; letter-spacing:.2px; }
    .hero p{
      margin:0;
      color: rgba(255,255,255,.88);
      font-size:13.5px;
      line-height:1.45;
      max-width: 680px;
    }
    .hero-badges{ margin-top:10px; display:flex; gap:8px; flex-wrap:wrap; }
    .badge{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:7px 10px;
      border-radius:999px;
      background: rgba(255,255,255,.14);
      border: 1px solid rgba(255,255,255,.18);
      font-size:12px;
      font-weight:700;
    }
    .badge strong{ color:#fff; }
    .hero-cta{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      justify-content:flex-end;
      align-items:center;
    }
    .hero-cta .btn{ box-shadow:none; }
    .hero-cta .btn-primary{ background: linear-gradient(135deg, #16a34a, #22c55e); }
    .hero-cta .btn-light{
      background: rgba(255,255,255,.92);
      color: var(--brand);
      border:0;
    }

    /* Quick nav chips */
    .chips{ margin-top:14px; display:flex; gap:8px; flex-wrap:wrap; align-items:center; }
    .chip{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:9px 12px;
      border-radius:999px;
      border:1px solid var(--line);
      background: rgba(255,255,255,.85);
      color: var(--ink);
      font-weight:800;
      font-size:12.5px;
      text-decoration:none;
    }
    .chip:hover{ background:#fff; }
    .chip small{ font-weight:800; color: var(--muted); }

    /* Featured */
    .featured{ margin-top:16px; scroll-margin-top: calc(var(--topbar-h) + env(safe-area-inset-top) + 18px); }
    .section-title{
      display:flex;
      justify-content:space-between;
      align-items:flex-end;
      gap:10px;
      margin:18px 0 10px;
    }
    .section-title h3{ margin:0; font-size:16px; letter-spacing:.2px; }
    .section-title span{ color:var(--muted); font-weight:700; font-size:12px; }

    .featured-grid{
      display:grid;
      grid-template-columns: repeat(6, 1fr);
      gap:10px;
    }
    .feat{
      border-radius: 16px;
      background: rgba(255,255,255,.90);
      border: 1px solid var(--line);
      box-shadow: 0 6px 18px rgba(0,0,0,.07);
      overflow:hidden;
      text-decoration:none;
      color:var(--ink);
      display:flex;
      flex-direction:column;
      min-height: 170px;
    }
    .feat img{
      width:100%;
      height:100px;
      object-fit:cover;
      display:block;
      background:#eee;
    }
    .feat .feat-body{
      padding:10px 10px 12px;
      display:flex;
      flex-direction:column;
      gap:6px;
      flex:1;
    }
    .feat .name{ font-weight:900; font-size:13px; line-height:1.2; }
    .feat .meta{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:8px;
      margin-top:auto;
    }
    .feat .price{
      font-weight:1000;
      color:var(--brand);
      background: rgba(217,164,65,.16);
      padding:4px 8px;
      border-radius:999px;
      border: 1px solid rgba(217,164,65,.30);
      font-size:12px;
    }
    .feat .tag{ font-weight:800; color:var(--muted); font-size:11.5px; }

    /* Categories */
    .category{
      margin-top:18px;
      padding:14px;
      border-radius: var(--radius);
      background: rgba(255,255,255,.82);
      border: 1px solid var(--line);
      box-shadow: 0 8px 22px rgba(0,0,0,.06);
      scroll-margin-top: calc(var(--topbar-h) + env(safe-area-inset-top) + 18px);
    }
    .category-header{
      display:flex;
      justify-content:space-between;
      gap:10px;
      align-items:flex-start;
      flex-wrap:wrap;
      margin-bottom:8px;
    }
    .category-title{ font-size:16px; font-weight:1000; letter-spacing:.2px; margin:0; }
    .category-tag{
      font-size:12px;
      font-weight:900;
      color:#fff;
      background: linear-gradient(135deg, rgba(11,42,43,.92), rgba(21,91,79,.90));
      padding:7px 10px;
      border-radius:999px;
      box-shadow: 0 6px 16px rgba(0,0,0,.12);
      border: 1px solid rgba(255,255,255,.16);
    }
    .category-description{
      margin:0 0 12px;
      color:var(--muted);
      font-weight:650;
      font-size:13px;
      line-height:1.45;
    }

    .items{ display:grid; grid-template-columns: repeat(3, 1fr); gap:12px; }
    .item{
      background: rgba(255,255,255,.95);
      border:1px solid var(--line);
      border-radius: var(--radius2);
      overflow:hidden;
      box-shadow: 0 6px 18px rgba(0,0,0,.07);
      display:flex;
      flex-direction:column;
      min-height: 290px;
    }
    .item-img{
      width:100%;
      height:150px;
      object-fit:cover;
      background:#eee;
      display:block;
      filter: brightness(1.05) contrast(1.02);
    }
    .no-img{
      width:100%;
      height:150px;
      display:flex;
      align-items:center;
      justify-content:center;
      background: linear-gradient(135deg, rgba(11,42,43,.12), rgba(217,164,65,.10));
      color: rgba(11,42,43,.75);
      font-weight:900;
      font-size:12px;
      letter-spacing:.2px;
    }
    .item-body{
      padding:12px;
      display:flex;
      flex-direction:column;
      gap:8px;
      flex:1;
    }
    .item-header-line{
      display:flex;
      justify-content:space-between;
      align-items:flex-start;
      gap:10px;
    }
    .item-name{ font-weight:1000; font-size:14px; line-height:1.2; }
    .item-price{
      font-weight:1000;
      color: var(--brand);
      background: rgba(217,164,65,.18);
      border: 1px solid rgba(217,164,65,.30);
      padding:6px 10px;
      border-radius:999px;
      font-size:13px;
      white-space:nowrap;
      min-width: 68px;
      text-align:center;
    }
    .item-note{
      color:var(--muted);
      font-size:12.5px;
      font-weight:650;
      line-height:1.35;
      min-height: 32px;
    }
    .item-actions{
      margin-top:auto;
      display:flex;
      gap:8px;
      flex-wrap:wrap;
      align-items:center;
    }
    .mini{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:8px;
      padding:8px 10px;
      border-radius:999px;
      border: 1px solid var(--line);
      background:#fff;
      color: var(--ink);
      text-decoration:none;
      font-weight:900;
      font-size:12px;
    }
    .mini.wa{
      border:0;
      background: linear-gradient(135deg, #16a34a, #22c55e);
      color:#fff;
    }

    /* Floating buttons (WhatsApp + Categorías) */
    .wa-float{
      position: fixed;
      right: calc(16px + env(safe-area-inset-right));
      bottom: calc(16px + env(safe-area-inset-bottom));
      z-index: 2000;
      display:flex;
      flex-direction:column;
      gap:10px;
      align-items:flex-end;
    }
   
    .float-btn{
      appearance: none;
      border: 1px solid rgba(12,107,115,.25);
      background: rgba(255,255,255,.92);
      color: #0b2c2f;
      border-radius: 999px;
      padding: 12px 16px;
      font-weight: 800;
      letter-spacing: .2px;
      box-shadow: 0 10px 24px rgba(0,0,0,.12);
      display: inline-flex;
      align-items: center;
      gap: 10px;
      cursor: pointer;
      -webkit-tap-highlight-color: transparent;
    }
    .float-btn .chev{ font-weight: 900; opacity: .9; }
    .float-btn:active{ transform: translateY(1px); }

    /* Categories overlay */
    .catmenu{
      position: fixed;
      left: 50%;
      top: 50%;
      transform: translate(-50%,-50%);
      width: min(360px, calc(100vw - 32px));
      max-height: min(520px, calc(100vh - 140px));
      overflow: auto;
      background: rgba(255,255,255,.96);
      border-radius: 18px;
      padding: 12px;
      box-shadow: 0 24px 60px rgba(0,0,0,.25);
      z-index: 2100;
    }
    .catmenu a{
      display: block;
      padding: 14px 14px;
      border-radius: 14px;
      text-decoration: none;
      color: #0b2c2f;
      font-weight: 800;
    }
    .catmenu a:hover{ background: rgba(12,107,115,.08); }
    .catmenu a:active{ background: rgba(12,107,115,.14); }

    .catmenu-backdrop{
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,.22);
      backdrop-filter: blur(2px);
      -webkit-backdrop-filter: blur(2px);
      z-index: 2050;
    }

    /* Small helpers */
    .hide{ display:none !important; }
    .muted{ color: var(--muted); }
    .divider{ height:1px; background: var(--line); margin:12px 0; }

    /* Footer (consistente con index.html) */
    .site-footer{
      background: var(--madera-oscura);
      color: #eee;
      padding: 22px 0;
      font-size: 13px;
      border-top: 3px solid var(--naranja);
      margin-top: 24px;
    }
    .footer-inner{
      max-width:1120px;
      margin:0 auto;
      padding:0 16px;
      display:flex;
      flex-direction:column;
      gap:10px;
      justify-content:space-between;
    }
    .footer-links a{
      color:#eee;
      text-decoration:none;
      margin-right:12px;
      font-weight:700;
    }
    .footer-links a:hover{ color: var(--turquesa); }
    @media (min-width: 640px){
      .footer-inner{ flex-direction:row; align-items:center; }
    }

    /* Responsive */
    @media (max-width: 980px){
      .featured-grid{ grid-template-columns: repeat(3, 1fr); }
      .items{ grid-template-columns: repeat(2, 1fr); }
      .hero-inner{ grid-template-columns: 1fr; }
      .hero-cta{ justify-content:flex-start; }
      .actions{ min-width:auto; }
    }
    @media (max-width: 560px){
    
      /* Aumenta la altura del header fijo en móvil */
      :root{ --topbar-h: 118px; }
    
      .topbar-inner{
        height: auto;                 /* importante */
        padding: 10px 12px;
        flex-wrap: wrap;              /* permite 2 filas */
        gap: 10px;
        align-items: center;
      }
    
      /* Fila 1 */
      .brand{ 
        min-width: 0;
        flex: 1 1 auto;
        order: 1;
      }
      .actions{
        min-width: 0;
        flex: 0 0 auto;
        order: 2;
      }
    
      /* Fila 2: búsqueda a ancho completo */
      .search-wrap{
        display: flex;                /* vuelve a mostrar */
        flex: 0 0 100%;
        order: 3;
        justify-content: stretch;
      }
      .search{
        max-width: 100%;
      }
      .search input{
        font-size: 14px;
        padding: 12px 42px 12px 14px;
      }
    }

    
    .brand-link{
      display:flex;
      align-items:center;
      text-decoration:none;
    }
    .brand-mark{
      display:block;
      height:44px;
      width:auto;
      object-fit:contain;
    }
    .btn-call{
      border:0;
      background: rgba(255,255,255,.92);
      color: var(--brand);
      box-shadow: 0 14px 30px rgba(0,0,0,.10);
      font-weight:1000;
    }
    .btn-call:hover{ transform: translateY(-1px); }
    .btn-light{
      background: rgba(255,255,255,.92);
      color: var(--brand);
      border:0;
    }

    .float-cat{
      border-color: rgba(12,107,115,.35);
    }

    .float-call{
      display:flex;
      align-items:center;
      gap:10px;
      padding:12px 14px;
      border-radius:999px;
      background: rgba(255,255,255,.92);
      color: #0b2c2f;
      text-decoration:none;
      font-weight:1000;
      box-shadow: 0 10px 24px rgba(0,0,0,.12);
      border: 1px solid rgba(12,107,115,.25);
    }

    /* Header en 2 filas (logo + categorías / buscador abajo) */
    .topbar-inner.topbar-stack{
      height: auto;                 /* ya no forzamos 68px */
      padding: 10px 12px;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    
    .topbar-row{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 12px;
    }
    
    .topbar-search .search{
      max-width: none;              /* ancho completo */
    }
    
    .topbar-search .search input{
      width: 100%;
    }
    
    /* Ajuste del alto real del header para que NO tape contenido */
    :root{ --topbar-h: 118px; }     /* puedes subir/bajar según tu gusto */

      /* ===== Header: base (móvil / por defecto) ===== */
    .topbar-inner.topbar-stack{
      height: auto;
      padding: 10px 12px;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    
    .topbar-row{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 12px;
    }
    
    .topbar-search .search{
      max-width: none;
    }
    
    .topbar-search .search input{
      width: 100%;
    }
    
    /* Altura base para móvil (porque son 2 filas) */
    :root{ --topbar-h: 118px; }
    
    /* ===== Desktop: 1 sola línea ===== */
    @media (min-width: 900px){
      .topbar-inner.topbar-stack{
        flex-direction: row;          /* una sola línea */
        align-items: center;
        justify-content: space-between;
        gap: 14px;
        height: var(--topbar-h);      /* vuelve a altura fija */
        padding: 0 16px;
      }
    
      /* En desktop, la fila 1 y fila 2 se vuelven "bloques" en la misma línea */
      .topbar-row{
        flex: 0 0 auto;
        gap: 14px;
      }
    
      .topbar-search{
        flex: 1;                      /* el buscador ocupa el centro */
        display:flex;
        justify-content:center;
      }
    
      .topbar-search .search{
        width: 100%;
        max-width: 520px;             /* como lo tenías */
      }
    
      /* Ajusta altura de header en desktop (1 sola línea) */
      :root{ --topbar-h: 68px; }
    }

     /* ---- Botones flotantes: más visibles y seleccionables ---- */
    .fab a{
      background: #25D366;          /* verde WhatsApp */
      color: #fff;
      border: 2px solid rgba(255,255,255,.35);
    }
    
    .fab button{
      background: #ff7a00;          /* naranja Categorías */
      color: #fff;
      border: 2px solid rgba(255,255,255,.35);
    }
    
    /* Hover + “tap feedback” */
    .fab a:hover, .fab button:hover{
      filter: brightness(1.06);
    }
    
    .fab a:active, .fab button:active{
      transform: translateY(1px);
    }
    
    /* Accesibilidad: cuando navegan con teclado */
    .fab a:focus-visible, .fab button:focus-visible{
      outline: 3px solid rgba(255,255,255,.85);
      outline-offset: 3px;
      box-shadow: 0 0 0 4px rgba(0,0,0,.25);
    }
    
    /* Cursor de “esto se puede tocar” */
    .fab a, .fab button{
      cursor: pointer;
    }

    /* ===== Items compactos (sin imagen) para bebidas ===== */
    .item.item--compact{
      min-height: auto;
    }
    
    .item.item--compact .item-body{
      padding: 12px;
    }
    
    .item.item--compact .item-note{
      min-height: 0;
    }
    
    .item.item--compact .item-actions{
      margin-top: 8px;
    }
    
    /* opcional: alinear mejor en compactos */
    .item.item--compact .item-header-line{
      align-items: center;
    }

    .fab a, .fab button{
      background: #0ea5a4; /* tu color de marca */
      color: #fff;
      border: 2px solid rgba(255,255,255,.35);
      cursor: pointer;
    }

    /* Chip de categoría en tarjetas: pequeño y elegante */
    .card .badge, 
    .card .chip,
    .menu-card .badge,
    .menu-card .chip{
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 4px 10px;
      border-radius: 999px;
      font-size: 12px;
      font-weight: 700;
      letter-spacing: .2px;
      background: rgba(255,255,255,.85);
      border: 1px solid rgba(0,0,0,.08);
      color: #111;
    }

    
  </style>
</head>

<body>
  <a class="skip-link" href="#contenido">Saltar al contenido</a>

<!-- TOPBAR -->
<header class="topbar std-header" id="top">
  <div class="topbar-inner topbar-stack">
    
    <!-- FILA 1 -->
    <div class="topbar-row">
      <div class="brand">
        <a class="brand-link" href="index.html" aria-label="Ir al inicio">
          <img class="brand-mark"
               src="img/letrasflorestabrava.png"
               alt="Floresta Brava"
               width="210" height="44"
               loading="eager" decoding="async">
        </a>
      </div>

      <div class="actions">
        <button
          aria-label="Abrir categorías"
          aria-controls="catMenu"
          class="btn btn-light"
          id="catFloat"
          type="button">
          Categorías ▾
        </button>
      </div>
    </div>

    <!-- FILA 2 -->
    <div class="topbar-search">
      <div class="search">
        <input id="q" type="search" placeholder="Buscar: encebollado, ceviche, bolón..." autocomplete="off" />
        <button id="clear" type="button" title="Limpiar búsqueda" aria-label="Limpiar búsqueda">✕</button>
      </div>
    </div>

  </div>
</header>



  <main class="wrap" id="contenido">
    <!-- HERO / IMAN -->
    <section aria-label="Promoción principal" class="hero">
      <div class="hero-inner">
        <div>
          <h2>Menú del día desde <span style="color:var(--gold)">$2,75</span></h2>
          <p>Sazón casera, porciones generosas y atención rápida. Pide por WhatsApp y te lo tenemos listo.</p>

          <div class="hero-badges">
            <div class="badge"><strong>Listo en minutos</strong></div>
            <div class="badge"><strong>Porciones que llenan</strong></div>
          </div>
        </div>

        <div class="hero-cta">
          <a class="btn btn-primary" href="#" id="waHero" rel="noopener" target="_blank">Pedir por WhatsApp</a>
          <a class="btn btn-light" href="#destacados">Ver destacados</a>
          <a class="btn btn-light" href="#mariscos">Ir a mariscos</a>
        </div>
      </div>
    </section>

    <!-- QUICK NAV -->
    <nav aria-label="Categorías" class="chips">
      <a class="chip" href="#almuerzos">Almuerzos <small>desde $2,75</small></a>
      <a class="chip" href="#desayunos">Desayunos</a>
      <a class="chip" href="#mariscos">Mariscos</a>
      <a class="chip" href="#carnes">Carnes</a>
      <a class="chip" href="#pollos">Pollos</a>
      <a class="chip" href="#gaseosas">Bebidas</a>
      <a class="chip" href="#pinchos">Pinchos</a>
    </nav>

    <!-- FEATURED -->
    <section aria-label="Destacados" class="featured" id="destacados">
      <div class="section-title">
        <h3>Destacados</h3>
        <span>Lo más pedido</span>
      </div>
      <div class="featured-grid" id="featuredGrid"></div>
    </section>

    <!-- CATEGORIES -->
    <section class="category" id="desayunos">
      <div class="category-header">
        <h3 class="category-title">Desayunos</h3>
        <div class="category-tag">Desde las 08h00</div>
      </div>
      <p class="category-description">Desayunos típicos para arrancar el día con energía.</p>
      <div class="items" data-category="Desayunos"></div>
    </section>
    
    <section class="category" id="almuerzos">
      <div class="category-header">
        <h3 class="category-title">Almuerzos</h3>
        <div class="category-tag">Menú del día</div>
      </div>
      <p class="category-description">Opciones completas y económicas para todos los días.</p>
      <div class="items" data-category="Almuerzos"></div>
    </section>

    <section class="category" id="carnes">
      <div class="category-header">
        <h3 class="category-title">Carnes</h3>
        <div class="category-tag">Platos fuertes</div>
      </div>
      <p class="category-description">Cortes a la plancha o apanados, con acompañantes completos.</p>
      <div class="items" data-category="Carnes"></div>
    </section>

    <section class="category" id="mariscos">
      <div class="category-header">
        <h3 class="category-title">Mariscos</h3>
        <div class="category-tag">Sabores de la costa</div>
      </div>
      <p class="category-description">Ceviches, arroces y platos calientes con mariscos frescos.</p>
      <div class="items" data-category="Mariscos"></div>
    </section>

    <section class="category" id="pollos">
      <div class="category-header">
        <h3 class="category-title">Pollos</h3>
        <div class="category-tag">A la carta</div>
      </div>
      <p class="category-description">Platos de pollo bien sazonados y servidos con acompañantes.</p>
      <div class="items" data-category="Pollos"></div>
    </section>

    <section class="category" id="pinchos">
      <div class="category-header">
        <h3 class="category-title">Pinchos</h3>
        <div class="category-tag">A la parrilla</div>
      </div>
      <p class="category-description">Ideales para acompañar tu merienda.</p>
      <div class="items" data-category="Pinchos"></div>
    </section>    

    <section class="category" id="gaseosas">
      <div class="category-header">
        <h3 class="category-title">Bebidas</h3>
        <div class="category-tag">Frías</div>
      </div>
      <p class="category-description">Gaseosas y cervezas para acompañar tu comida.</p>

      <div class="divider"></div>
      <div class="section-title" style="margin:0 0 10px;">
        <h3 style="margin:0;font-size:14px;">Jugos</h3>
        <span></span>
      </div>
      <div class="items" data-category="Jugos"></div>
      
      <div class="divider"></div>
      <div class="section-title" style="margin:0 0 10px;">
        <h3 style="margin:0;font-size:14px;">Gaseosa</h3>
        <span></span>
      </div>
      <div class="items" data-category="Gaseosa"></div>

      <div class="divider"></div>
      <div class="section-title" style="margin:0 0 10px;">
        <h3 style="margin:0;font-size:14px;">Cerveza</h3>
        <span></span>
      </div>
      <div class="items" data-category="Cerveza"></div>
    </section>

  </main>

  <!-- Floating buttons -->
  <div aria-label="Acciones rápidas" class="wa-float">
    <a class="float-call" href="tel:+593983603626" aria-label="Llamar a Floresta Brava" title="Llamar">Llamar</a>
  
    <a class="float-call" id="waFloat" href="#" target="_blank" rel="noopener"
       aria-label="Pedir por WhatsApp" title="WhatsApp">WhatsApp</a>
  </div>



  <!-- Menú de categorías (overlay) -->
  <nav aria-label="Categorías" class="catmenu" hidden id="catMenu">
    <a href="#almuerzos">Almuerzos</a>
    <a href="#desayunos">Desayunos</a>
    <a href="#mariscos">Mariscos</a>
    <a href="#carnes">Carnes</a>
    <a href="#pollos">Pollos</a>
    <a href="#gaseosas">Bebidas</a>
    <a href="#pinchos">Pinchos</a>
  </nav>

  <script>
    /***********************
     * CONFIG PRODUCCION
     ***********************/
    const IMG_BASE = "img/";
    const WHATSAPP_NUMBER = "593983603626";
    const WHATSAPP_PREFIX = "Hola, vengo del menú QR de Floresta Brava. ";

    const FEATURED = [
      { category: "Mariscos", name: "Encebollado", tag: "Clásico" },
      { category: "Mariscos", name: "Ceviche mixto", tag: "Top" },
      { category: "Mariscos", name: "Chaulafán", tag: "Rápido" },
      { category: "Carnes",  name: "Bisteck costeño", tag: "Fuerte" },
      { category: "Carnes",  name: "Carne apanada", tag: "Crocante" },
      { category: "Desayunos", name: "Tigrillo", tag: "Desayuno" },
    ];

    const MENU = [
      {
        id: "almuerzos",
        title: "Almuerzos",
        desc: "Opciones completas y económicas para todos los días.",
        items: [
          { name: "Almuerzos y Meriendas", price: 2.75, file: "almuerzo.webp" },
          { name: "Almuerzos con encebollado", price: 3.50, file: "almuerzo-encebollado.webp" },
          { name: "Meriendas con pincho", price: 3.50, file: "merienda-pincho.webp" },
          { name: "Segundo del día", price: 2.25, file: "segundo.webp" },
          { name: "Sopa del día", price: 1.50, file: "sopasola.webp" },
        ],
      },
      {
        id: "carnes",
        title: "Carnes",
        desc: "Cortes preparados a la plancha o apanados, con guarniciones completas.",
        items: [
          { name: "Bisteck costeño", price: 5.25, file: "bisteckcosteno.webp" },
          { name: "Carne apanada", price: 5.25, file: "carneapanada.webp" },
          { name: "Chuleta", price: 6.00, file: "chuleta.webp" },
          { name: "Churrasco", price: 5.25, file: "churrasco.webp" },
          { name: "Lomo a la pimienta", price: 5.25, file: "lomoalapimienta.webp" },
          { name: "Lomo a la plancha", price: 5.25, file: "lomolaplancha.webp" },
          { name: "Menestras", price: 5.25, file: "menestradecarne.webp" },
          { name: "Yaguarlocro", price: null, file: "yaguarlocro.webp" },
        ],
      },
      {
        id: "desayunos",
        title: "Desayunos",
        desc: "Desayunos típicos ecuatorianos para arrancar el día con energía.",
        items: [
          { name: "Bolones", price: 1.00, file: "bolon-estofado.webp" },
          { name: "Corviches", price: 1.00, file: "corviches.webp" },
          { name: "Desayuno completo", price: 3.75, file: "" },
          { name: "Desayuno continental", price: 2.75, file: "desayunocontinental.webp" },
          { name: "Empanadas", price: 1.00, file: "empanadas.webp" },
          { name: "Muchines", price: 1.00, file: "muchin.webp" },
          { name: "Tamales", price: 1.00, file: "tamal.webp" },
          { name: "Tigrillo", price: 4.00, file: "tigrillo.webp" },
        ],
      },
      {
        id: "mariscos",
        title: "Mariscos",
        desc: "Ceviches, arroces y platos calientes preparados con mariscos frescos.",
        items: [
          { name: "Arroz con camarón", price: 8.50, file: "arrozconcamaron.webp" },
          { name: "Arroz con concha", price: 8.50, file: "arrozconconcha.webp" },
          { name: "Arroz mixto", price: 10.00, file: "arrozmixto.webp" },
          { name: "Bandera", price: 10.00, file: "bandera.webp" },
          { name: "Bochinche", price: 10.00, file: "bochinche.webp" },
          { name: "Camarones al ajillo", price: 8.50, file: "camaronesalajillo.webp" },
          { name: "Camarones apanados", price: 8.50, file: "camaronesapanados.webp" },
          { name: "Cazuelas", price: 8.50, file: "cazueladecamaron.webp" },
          { name: "Ceviche de camarón", price: 8.50, file: "cevichedecamaron.webp" },
          { name: "Ceviche de concha", price: 8.50, file: "cevichedeconcha.webp" },
          { name: "Ceviche de pescado", price: 8.00, file: "cevichedepescado.webp" },
          { name: "Ceviche mixto", price: 8.50, file: "cevichemixto.webp" },
          { name: "Cevichón", price: 4.50, file: "cevichon.webp" },
          { name: "Chaulafán", price: 3.75, file: "chaulafan.webp" },
          { name: "Chupe de pescado", price: 3.75, file: "chupedepescado.webp" },
          { name: "Corvinas", price: 8.50, file: "corvina.webp" },
          { name: "Encebollado", price: 3.00, file: "encebollado.webp" },
          { name: "Encebollado mixto", price: 8.50, file: "encebolladomixto.webp" },
          { name: "Guatita", price: 3.00, file: "guatita.webp" },
          { name: "Langostinos a la brava", price: 10.00, file: "langostinosalabrava.webp" },
          { name: "Sopa de camarón", price: 8.50, file: "sopadecamaron.webp" },
        ],
      },
      {
        id: "pollos",
        title: "Pollos",
        desc: "Platos de pollo jugosos y bien sazonados, con acompañantes.",
        items: [
          { name: "Arroz con pollo", price: 3.75, file: "arrozconpollo.webp" },
          { name: "Pechuga a la plancha", price: 5.25, file: "pechugaalaplancha.webp" },
          { name: "Pechuga apanada", price: 5.25, file: "pechugaapanada.webp" },
          { name: "Seco de pollo", price: 4.00, file: "secodepollo.webp" },
        ],
      },
      {
        id: "jugos",
        title: "Jugos",
        desc: "Opciones individuales y jarras.",
        items: [
          { name: "Vaso de Jugo", price: 2.00, file: "" },
          { name: "Jarra de Jugo", price: 6.00, file: "" },
        ],
      },      
      {
        id: "gaseosas",
        title: "Gaseosa",
        desc: "Opciones individuales y familiares.",
        items: [
          { name: "Mediana", price: 1.00, file: "" },
          { name: "Personal", price: 0.65, file: "" },
          { name: "1.35 L", price: 2.25, file: "" },

        ],
      },
      {
        id: "cerveza",
        title: "Cerveza",
        desc: "Cervezas nacionales.",
        items: [
          { name: "Pilsener 600 ml", price: 2.25, file: "" },
          { name: "Club 550 ml", price: 2.50, file: "" },
          { name: "Artesanal", price: 3.00, file: "" },
          { name: "Artesanal", price: 3.25, file: "" },
          { name: "Artesanal", price: 3.50, file: "" },
        ],
      },
      {
        id: "pinchos",
        title: "Pinchos",
        desc: "Ideales para acompañar tu merienda.",
        items: [
          { name: "Pincho de carne", price: 1.00, file: "pincho-carne.webp" },
          { name: "Pincho de pollo", price: 1.00, file: "pincho-pollo.webp" },
          { name: "Pincho completo", price: 2.50, file: "pincho-completo.webp" }
        ],
      },
    ];

    function formatPrice(p) {
      if (p === null || p === undefined || p === "") return "";
      return "$" + Number(p).toFixed(2).replace(".", ",");
    }

    function waLink(message) {
      const base = "https://wa.me/" + WHATSAPP_NUMBER;
      return base + "?text=" + encodeURIComponent(message);
    }

    function waForItem(itemName, priceText) {
      const msg = WHATSAPP_PREFIX + "Quiero pedir: " + itemName + (priceText ? " (" + priceText + ")" : "") + ".";
      return waLink(msg);
    }

    function findItem(categoryTitle, itemName) {
      const cat = MENU.find(c => c.title.toLowerCase() === categoryTitle.toLowerCase());
      if (!cat) return null;
      return cat.items.find(i => i.name.toLowerCase() === itemName.toLowerCase()) || null;
    }


    function itemHTML(it, categoryTitle) {
      const priceText = it.price != null ? formatPrice(it.price) : "";
      const note = it.price == null ? "Consultar precio" : "Pídelo por WhatsApp";
    
      // Categorías donde NO queremos bloque "Sin foto"
      const noPhotoCategories = ["Jugos","Gaseosa", "Cerveza"];
      const isNoPhotoCat = noPhotoCategories.includes(categoryTitle);
    
      // Si es comida y no hay file, sí mostramos "Sin foto" (como antes).
      // Si es bebida (gaseosa/cerveza) y no hay file, hacemos tarjeta compacta sin imagen.
      let imgBlock = "";
      let extraClass = "";
    
      if (it.file) {
        imgBlock = `<img src="${IMG_BASE + it.file}" alt="${it.name}" class="item-img" loading="lazy" onerror="this.outerHTML='<div class=&quot;no-img&quot;>Sin foto</div>'">`;
      } else {
        if (!isNoPhotoCat) {
          imgBlock = `<div class="no-img">Sin foto</div>`;
        } else {
          extraClass = " item--compact";
          imgBlock = ""; // no renderiza nada
        }
      }
    
      // En bebidas no mostramos botón Ingredientes
      const showIngredients = !isNoPhotoCat;
    
      return `
        <article class="item${extraClass}" data-name="${it.name.toLowerCase()}">
          ${imgBlock}
          <div class="item-body">
            <div class="item-header-line">
              <div class="item-name">${it.name}</div>
              <div class="item-price">${priceText || "—"}</div>
            </div>
            <div class="item-note">${note}</div>
            <div class="item-actions">
              <a class="mini wa" href="${waForItem(it.name, priceText)}" target="_blank" rel="noopener">Pedir este</a>
              ${
                showIngredients
                  ? `<button class="mini-btn" type="button" data-ingredients-for="${it.name}">Ingredientes</button>`
                  : ``
              }
            </div>
          </div>
        </article>
      `;
    }


    function renderCategory(categoryTitle, container) {
      const cat = MENU.find(c => c.title === categoryTitle);
      if (!cat) return;
      container.innerHTML = cat.items.map(it => itemHTML(it, categoryTitle)).join("");
    }

    function renderAll() {
      document.querySelectorAll(".items[data-category]").forEach(el => {
        const catName = el.getAttribute("data-category");
        renderCategory(catName, el);
      });
    }

    function renderFeatured() {
      const grid = document.getElementById("featuredGrid");
      if (!grid) return;

      const cards = FEATURED.map(f => {
        const it = findItem(f.category, f.name);
        if (!it) return "";
        const priceText = it.price != null ? formatPrice(it.price) : "";
        const img = it.file
          ? `<img src="${IMG_BASE + it.file}" alt="${it.name}" loading="lazy" onerror="this.outerHTML='<div class=&quot;no-img&quot; style=&quot;height:100px;border-radius:0&quot;>Sin foto</div>'">`
          : `<div class="no-img" style="height:100px;border-radius:0">Sin foto</div>`;

        const href = waForItem(it.name, priceText);
        return `
          <a class="feat" href="${href}" target="_blank" rel="noopener" title="Pedir ${it.name}">
            ${img}
            <div class="feat-body">
              <div class="name">${it.name}</div>
              <div class="meta">
                <div class="tag">${f.tag}</div>
                <div class="price">${priceText || "Consultar"}</div>
              </div>
            </div>
          </a>
        `;
      }).join("");

      grid.innerHTML = cards;
    }

    function setupWhatsAppButtons() {
      const generalMsg = WHATSAPP_PREFIX + "Quiero hacer un pedido. ¿Me ayudas por favor?";
      const href = waLink(generalMsg);
    
      ["waTop", "waHero", "waFloat"].forEach(id => {
        const el = document.getElementById(id);
        if (el) el.href = href;
      });
    }


    function setupSearch() {
      const q = document.getElementById("q");
      const clear = document.getElementById("clear");

      function applyFilter() {
        const term = (q.value || "").trim().toLowerCase();
        const allItems = document.querySelectorAll(".item");
        allItems.forEach(card => {
          const name = card.getAttribute("data-name") || "";
          if (!term || name.includes(term)) card.classList.remove("hide");
          else card.classList.add("hide");
        });

        document.querySelectorAll(".category").forEach(cat => {
          const visible = cat.querySelectorAll(".item:not(.hide)").length;
          if (term && visible === 0) cat.classList.add("hide");
          else cat.classList.remove("hide");
        });

        const hero = document.querySelector(".hero");
        const featured = document.getElementById("destacados");
        if (hero) hero.classList.remove("hide");
        if (featured) featured.classList.remove("hide");
      }

      q.addEventListener("input", applyFilter);
      clear.addEventListener("click", () => {
        q.value = "";
        applyFilter();
        q.focus();
      });
    }

    function getIngredientsFor(itemName){
      // Busca el plato en todas las categorías del array MENU
      const n = (itemName || "").toLowerCase();
      for (const cat of MENU){
        if (!cat.items) continue;
        const it = cat.items.find(x => (x.name || "").toLowerCase() === n);
        if (it && it.ingredients) return it.ingredients;
      }
      return null;
    }

    function setupIngredientsModal(){
      const modal = document.getElementById("ingModal");
      const backdrop = document.getElementById("ingBackdrop");
      const title = document.getElementById("ingTitle");
      const body = document.getElementById("ingBody");
      const closeBtn = document.getElementById("ingClose");
      const waBtn = document.getElementById("ingWa");
      if (!modal || !backdrop || !title || !body || !closeBtn || !waBtn) return;

      const close = () => {
        modal.hidden = true;
        backdrop.hidden = true;
        document.removeEventListener("keydown", onKey);
      };

      const onKey = (e) => {
        if (e.key === "Escape") close();
      };

      const open = (itemName) => {
        const ing = getIngredientsFor(itemName);
        title.textContent = "Ingredientes · " + itemName;

        if (Array.isArray(ing) && ing.length){
          body.textContent = "Ingredientes: " + ing.join(", ") + ".";
        } else if (typeof ing === "string" && ing.trim()){
          body.textContent = "Ingredientes: " + ing.trim();
        } else {
          body.textContent = "Ingredientes no registrados todavía. Si tienes alergias, escríbenos y te confirmamos los ingredientes antes de preparar tu pedido.";
        }

        const msg = WHATSAPP_PREFIX + "¿Me confirmas los ingredientes de: " + itemName + "? Tengo una alergia y quiero asegurarme. Gracias.";
        waBtn.href = waLink(msg);

        modal.hidden = false;
        backdrop.hidden = false;
        document.addEventListener("keydown", onKey);
      };

      backdrop.addEventListener("click", close);
      closeBtn.addEventListener("click", close);

      document.addEventListener("click", (e) => {
        const btn = e.target.closest("[data-ingredients-for]");
        if (!btn) return;
        e.preventDefault();
        const itemName = btn.getAttribute("data-ingredients-for");
        if (itemName) open(itemName);
      });
    }

    function setupCategoriesMenu(){
      const menu = document.getElementById("catMenu");
      const btn  = document.getElementById("catFloat");
      if (!menu || !btn) return;
  
      let backdrop = null;
  
      const setChev = (open) => {
        // Mantiene tu texto original "Categorías ▾" / "Categorías ▴"
        btn.textContent = open ? "Categorías ▴" : "Categorías ▾";
        btn.setAttribute("aria-expanded", open ? "true" : "false");
      };
  
      const openMenu = () => {
        if (!backdrop){
          backdrop = document.createElement("div");
          backdrop.className = "catmenu-backdrop";
          backdrop.addEventListener("click", closeMenu);
          document.body.appendChild(backdrop);
        } else {
          backdrop.classList.remove("hide");
          backdrop.hidden = false;
        }
  
        menu.hidden = false;
        setChev(true);
  
        // Cierra con ESC
        document.addEventListener("keydown", onKey);
  
        // Opcional: enfoca el primer link para accesibilidad
        const firstLink = menu.querySelector("a");
        if (firstLink) firstLink.focus({ preventScroll: true });
      };
  
      const closeMenu = () => {
        menu.hidden = true;
        if (backdrop){
          backdrop.hidden = true;          // lo ocultamos
          backdrop.classList.add("hide");  // y aseguramos display none
        }
        setChev(false);
        document.removeEventListener("keydown", onKey);
      };
  
      const toggleMenu = () => {
        const isOpen = !menu.hidden;
        if (isOpen) closeMenu();
        else openMenu();
      };
  
      const onKey = (e) => {
        if (e.key === "Escape") closeMenu();
      };
  
      // Click en el botón
      btn.addEventListener("click", (e) => {
        e.preventDefault();
        toggleMenu();
      });
  
      // Si haces click en una categoría, que cierre el menú
      menu.addEventListener("click", (e) => {
        const a = e.target.closest("a[href^='#']");
        if (!a) return;
  
        // Cierra primero
        closeMenu();
  
        // Scroll suave y confiable
        const id = a.getAttribute("href").slice(1);
        const target = document.getElementById(id);
        if (target){
          target.scrollIntoView({ behavior: "smooth", block: "start" });
        }
      });
  
      // Estado inicial accesible
      btn.setAttribute("aria-expanded", "false");
      setChev(false);
    }


    renderAll();
    renderFeatured();
    setupWhatsAppButtons();
    setupSearch();
    setupIngredientsModal();
    setupCategoriesMenu(); 
  </script>

  <footer class="site-footer">
    <div class="footer-inner">
      <div><strong>Floresta Brava</strong> · Av. Coruña y Guipúzcoa · Quito</div>
      <div class="footer-links">
        <a href="index.html">Inicio</a>
        <a aria-current="page" href="menudigital.html">Menú digital</a>
        <a href="#top">Subir</a>
      </div>
    </div>
  </footer>

  <script>
   
  </script>
</body>
</html>
